# è·å–Telegramç¾¤ç»„IDå’Œåç§°

## æ–¹æ³•1ï¼šä½¿ç”¨å‘½ä»¤è¡Œè„šæœ¬ï¼ˆæ¨èï¼‰

### 1. è®¾ç½®ç¯å¢ƒå˜é‡

```bash
export TELEGRAM_API_ID="ä½ çš„API_ID"
export TELEGRAM_API_HASH="ä½ çš„API_HASH"
export TELEGRAM_BOT_TOKEN="ä½ çš„BOT_TOKEN"
```

### 2. è¿è¡Œè„šæœ¬

```bash
# è·å–æ‰€æœ‰ç¾¤ç»„ä¿¡æ¯
python get_group_info.py

# è·å–ç‰¹å®šç¾¤ç»„ä¿¡æ¯
python get_group_info.py -1001234567890
```

### 3. è¾“å‡ºç¤ºä¾‹

```
âœ… å·²è¿æ¥åˆ°Telegram

ğŸ“‹ æ­£åœ¨è·å–ç¾¤ç»„åˆ—è¡¨...

ğŸ¯ **ç¾¤ç»„åˆ—è¡¨** (å…± 3 ä¸ª)
==================================================
1. å¼€å¥–ç¾¤ç»„1
   ID: -1001234567890
   ç”¨æˆ·å: @lottery_group1
   æˆå‘˜æ•°: 1,234

2. æµ‹è¯•ç¾¤ç»„
   ID: -1001234567891
   æˆå‘˜æ•°: 567

3. å®˜æ–¹ç¾¤ç»„
   ID: -1001234567892
   ç”¨æˆ·å: @official_group
   æˆå‘˜æ•°: 2,345

ğŸ”§ **é…ç½®ä»£ç **
==================================================
åœ¨ multi_game_config.py ä¸­æ·»åŠ ç¾¤ç»„é…ç½®ï¼š

GroupConfig(
    group_id=-1001234567890,
    group_name="å¼€å¥–ç¾¤ç»„1",
    game_type="lottery",
    enabled=True,
    admin_only=False,
    min_bet=1,
    max_bet=100000,
    auto_draw=True,
    notification_groups=[-1001234567890]
),

GroupConfig(
    group_id=-1001234567891,
    group_name="æµ‹è¯•ç¾¤ç»„",
    game_type="lottery",
    enabled=True,
    admin_only=False,
    min_bet=1,
    max_bet=100000,
    auto_draw=True,
    notification_groups=[-1001234567891]
),
```

## æ–¹æ³•2ï¼šåœ¨æœºå™¨äººä¸­ä½¿ç”¨å‘½ä»¤

### 1. æœºå™¨äººå‘½ä»¤

åœ¨ç¾¤ç»„ä¸­å‘é€ä»¥ä¸‹å‘½ä»¤ï¼š

- `/groupid` - è·å–å½“å‰ç¾¤ç»„IDå’Œé…ç½®ç¤ºä¾‹
- `/groupinfo` - è·å–å½“å‰ç¾¤ç»„è¯¦ç»†ä¿¡æ¯ï¼ˆä»…ç®¡ç†å‘˜ï¼‰
- `/mygroups` - è·å–æœºå™¨äººæ‰€åœ¨çš„æ‰€æœ‰ç¾¤ç»„ï¼ˆä»…ç®¡ç†å‘˜ï¼‰
- `/searchgroup å…³é”®è¯` - æœç´¢åŒ…å«å…³é”®è¯çš„ç¾¤ç»„ï¼ˆä»…ç®¡ç†å‘˜ï¼‰

### 2. å‘½ä»¤ç¤ºä¾‹

```
/groupid

ğŸ“‹ **å½“å‰ç¾¤ç»„ä¿¡æ¯**

ğŸ†” **ç¾¤ç»„ID:** `-1001234567890`
ğŸ“ **ç¾¤ç»„åç§°:** å¼€å¥–ç¾¤ç»„1
ğŸ”— **ç”¨æˆ·å:** @lottery_group1
ğŸ“Š **ç±»å‹:** group

ğŸ”§ **é…ç½®ç¤ºä¾‹:**
```python
GroupConfig(
    group_id=-1001234567890,
    group_name="å¼€å¥–ç¾¤ç»„1",
    game_type="lottery",
    enabled=True,
    admin_only=False,
    min_bet=1,
    max_bet=100000,
    auto_draw=True,
    notification_groups=[-1001234567890]
),
```
```

## æ–¹æ³•3ï¼šä½¿ç”¨ä»£ç è·å–

### 1. åœ¨ä»£ç ä¸­ä½¿ç”¨

```python
from bot.utils.group_info import get_chat_info, get_my_groups

# è·å–ç‰¹å®šç¾¤ç»„ä¿¡æ¯
group_info = await get_chat_info(client, -1001234567890)
if group_info:
    print(f"ç¾¤ç»„ID: {group_info['id']}")
    print(f"ç¾¤ç»„åç§°: {group_info['title']}")
    print(f"ç”¨æˆ·å: @{group_info['username']}")

# è·å–æ‰€æœ‰ç¾¤ç»„
groups = await get_my_groups(client)
for group in groups:
    print(f"{group['title']}: {group['id']}")
```

### 2. ä½¿ç”¨GroupInfoHelperç±»

```python
from bot.utils.group_info import GroupInfoHelper

helper = GroupInfoHelper(client)

# è·å–ç¾¤ç»„ä¿¡æ¯
group_info = await helper.get_chat_info(-1001234567890)

# æ ¼å¼åŒ–æ˜¾ç¤º
message = helper.format_group_info(group_info)
print(message)

# è·å–ç¾¤ç»„åˆ—è¡¨
groups = await helper.get_my_groups()
message = helper.format_group_list(groups)
print(message)
```

## æ–¹æ³•4ï¼šæ‰‹åŠ¨è·å–ç¾¤ç»„ID

### 1. é€šè¿‡è½¬å‘æ¶ˆæ¯

1. åœ¨ç¾¤ç»„ä¸­å‘é€ä¸€æ¡æ¶ˆæ¯
2. å°†æ¶ˆæ¯è½¬å‘ç»™ @userinfobot
3. æœºå™¨äººä¼šè¿”å›ç¾¤ç»„ä¿¡æ¯ï¼ŒåŒ…æ‹¬ç¾¤ç»„ID

### 2. é€šè¿‡ç½‘é¡µç‰ˆTelegram

1. æ‰“å¼€ [web.telegram.org](https://web.telegram.org)
2. è¿›å…¥ç¾¤ç»„
3. æŸ¥çœ‹URLä¸­çš„ç¾¤ç»„ID

### 3. é€šè¿‡ç¬¬ä¸‰æ–¹æœºå™¨äºº

- @getidsbot - è·å–å„ç§ID
- @userinfobot - è·å–ç”¨æˆ·å’Œç¾¤ç»„ä¿¡æ¯
- @RawDataBot - è·å–åŸå§‹æ•°æ®

## ç¾¤ç»„IDè¯´æ˜

### 1. ç¾¤ç»„IDæ ¼å¼

- **æ™®é€šç¾¤ç»„**: `-100xxxxxxxxxx` (12ä½æ•°å­—)
- **è¶…çº§ç¾¤ç»„**: `-100xxxxxxxxxx` (12ä½æ•°å­—)
- **é¢‘é“**: `-100xxxxxxxxxx` (12ä½æ•°å­—)

### 2. æ³¨æ„äº‹é¡¹

- ç¾¤ç»„IDæ˜¯è´Ÿæ•°
- å¿…é¡»ä»¥ `-100` å¼€å¤´
- æ€»é•¿åº¦ä¸º13ä½ï¼ˆåŒ…æ‹¬è´Ÿå·ï¼‰

## é…ç½®ç¾¤ç»„

### 1. åœ¨ multi_game_config.py ä¸­æ·»åŠ ç¾¤ç»„

```python
# åœ¨ _init_default_groups æ–¹æ³•ä¸­æ·»åŠ 
GroupConfig(
    group_id=-1001234567890,  # ä»ä¸Šé¢è·å–çš„ç¾¤ç»„ID
    group_name="å¼€å¥–ç¾¤ç»„1",    # ç¾¤ç»„åç§°
    game_type="lottery",      # æ¸¸æˆç±»å‹
    enabled=True,             # æ˜¯å¦å¯ç”¨
    admin_only=False,         # æ˜¯å¦ä»…ç®¡ç†å‘˜å¯æ“ä½œ
    min_bet=1,               # æœ€å°æŠ•æ³¨é‡‘é¢
    max_bet=100000,          # æœ€å¤§æŠ•æ³¨é‡‘é¢
    auto_draw=True,          # æ˜¯å¦è‡ªåŠ¨å¼€å¥–
    notification_groups=[-1001234567890]  # é€šçŸ¥ç¾¤ç»„åˆ—è¡¨
),
```

### 2. ç¯å¢ƒå˜é‡é…ç½®

```bash
# è®¾ç½®ç®¡ç†å‘˜IDï¼ˆç”¨äºæœºå™¨äººå‘½ä»¤æƒé™ï¼‰
export TELEGRAM_ADMIN_IDS="123456789,987654321"

# è®¾ç½®é€šçŸ¥ç¾¤ç»„
export LOTTERY_NOTIFICATION_GROUPS="-1001234567890,-1001234567891"
```

## å¸¸è§é—®é¢˜

### 1. æ— æ³•è·å–ç¾¤ç»„ä¿¡æ¯

**å¯èƒ½åŸå› ï¼š**
- æœºå™¨äººä¸åœ¨ç¾¤ç»„ä¸­
- ç¾¤ç»„å·²åˆ é™¤æˆ–æœºå™¨äººè¢«è¸¢å‡º
- APIå‡­æ®é”™è¯¯

**è§£å†³æ–¹æ³•ï¼š**
- ç¡®ä¿æœºå™¨äººå·²åŠ å…¥ç¾¤ç»„
- æ£€æŸ¥APIå‡­æ®æ˜¯å¦æ­£ç¡®
- ç¡®è®¤ç¾¤ç»„ä»ç„¶å­˜åœ¨

### 2. ç¾¤ç»„IDä¸æ­£ç¡®

**å¯èƒ½åŸå› ï¼š**
- å¤åˆ¶äº†é”™è¯¯çš„ID
- ç¾¤ç»„ç±»å‹ä¸æ˜¯ç¾¤ç»„è€Œæ˜¯é¢‘é“

**è§£å†³æ–¹æ³•ï¼š**
- ä½¿ç”¨ `/groupid` å‘½ä»¤é‡æ–°è·å–
- ç¡®è®¤ç¾¤ç»„ç±»å‹

### 3. æƒé™ä¸è¶³

**å¯èƒ½åŸå› ï¼š**
- ä¸æ˜¯ç¾¤ç»„ç®¡ç†å‘˜
- æœºå™¨äººæƒé™ä¸è¶³

**è§£å†³æ–¹æ³•ï¼š**
- è”ç³»ç¾¤ç»„ç®¡ç†å‘˜
- ç¡®ä¿æœºå™¨äººæœ‰å¿…è¦çš„æƒé™

## æ€»ç»“

æ¨èä½¿ç”¨ **æ–¹æ³•1ï¼ˆå‘½ä»¤è¡Œè„šæœ¬ï¼‰** æ¥è·å–ç¾¤ç»„ä¿¡æ¯ï¼Œå› ä¸ºå®ƒï¼š

1. **ç®€å•æ˜“ç”¨** - ä¸€æ¡å‘½ä»¤å³å¯è·å–æ‰€æœ‰ä¿¡æ¯
2. **ä¿¡æ¯å®Œæ•´** - åŒ…å«ç¾¤ç»„IDã€åç§°ã€ç”¨æˆ·åã€æˆå‘˜æ•°ç­‰
3. **è‡ªåŠ¨ç”Ÿæˆé…ç½®** - ç›´æ¥ç”Ÿæˆå¯ç”¨çš„é…ç½®ä»£ç 
4. **æ‰¹é‡å¤„ç†** - å¯ä»¥ä¸€æ¬¡æ€§è·å–æ‰€æœ‰ç¾¤ç»„ä¿¡æ¯

è·å–ç¾¤ç»„ä¿¡æ¯åï¼Œè®°å¾—åœ¨ `multi_game_config.py` ä¸­æ­£ç¡®é…ç½®ç¾¤ç»„ï¼Œç„¶åé‡å¯æœºå™¨äººå³å¯ä½¿ç”¨å¤šç¾¤ç»„å¼€å¥–åŠŸèƒ½ã€‚ 